# π“ μλ°” μ–΄λ…Έν…μ΄μ… μ •λ¦¬

## π“ ν”„λ΅μ νΈ μ½”λ“

### π“ controller ν¨ν‚¤μ§€

#### π”Έν΄λμ¤
- @Controller
  - ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ¤ν”„λ§ MVCμ μ»¨νΈλ΅¤λ¬λ΅ λ“±λ΅ν•λ‹¤ -> SpringConfig νμΌμ„ ν†µν•΄ μ¤ν”„λ§ λΉμ„ μλ™μΌλ΅ λ“±λ΅ν•λ”λΌλ„ μ»¨νΈλ΅¤λ¬λ§νΌμ€ ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ μλ™μΌλ΅ λ“±λ΅ν•΄μ•Ό ν•λ‹¤
  - μ¤ν”„λ§ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‘λ™λ  λ•, ν•΄λ‹Ή ν΄λμ¤κ°€ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λμ–΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ κ΄€λ¦¬λ¥Ό λ°›λ”λ‹¤
  - ν•΄λ‹Ή ν΄λμ¤ λ‚΄λ¶€μ λ©”μ†λ“λ” HTTP μ”μ²­μ„ μ²λ¦¬ν•λ” ν•Έλ“¤λ¬ λ©”μ„λ“λ΅ λ™μ‘λλ‹¤
  - ν•λ‚μ μ¤ν”„λ§ μ• ν”λ¦¬μΌ€μ΄μ…μ— μ—¬λ¬ κ°μ μ»¨νΈλ΅¤λ¬κ°€ λ“±λ΅λλ” κ²ƒμ΄ μΌλ°μ μ΄λ‹¤

#### π”Έ λ©”μ†λ“
- @Autowired
  - ν•„λ“, μƒμ„±μ, setter λ©”μ†λ“μ— μ‚¬μ©λλ‹¤
  - μ¤ν”„λ§ μ»¨ν…μ΄λ„μ™€ κ΄€λ¦¬ν•λ” κ°μ²΄(μ¤ν”„λ§ λΉ)μ„ μλ™μΌλ΅ μ£Όμ…ν•΄μ¤€λ‹¤ = μμ΅΄μ„± μ£Όμ… (ν”„λ΅κ·Έλ¨ μ‹μ‘ μ‹ ν•΄λ‹Ή ν•„λ“/μƒμ„±μ/λ©”μ†λ“κ°€ μλ™μΌλ΅ μ‹¤ν–‰λλ‹¤)
  - μμ΅΄μ„± μ£Όμ…μ€ μ£Όλ΅ μƒμ„±μ μ£Όμ…μ„ κ¶μ¥ν•λ‹¤ (final ν‚¤μ›λ“λ΅ λ¶λ³€μ„± λ³΄μ¥) -> μ΄ κ²½μ° μƒμ„±μκ°€ ν•λ‚ λΏμΌ λ•λ” @Autowiredμ μ‘μ„±μ„ μƒλµν•  μ μλ‹¤

- @GetMapping('/members/new')
  - μ»¨νΈλ΅¤λ¬ ν΄λμ¤ μ•„λ κ° λ©”μ†λ“μ— μ‘μ„±
  - ν΄λΌμ΄μ–ΈνΈκ°€ GET/members/newλ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ΄ μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“κ°€ μ‹¤ν–‰λλ‹¤
  - ν•΄λ‹Ή URL μ”μ²­μ— λ§¤ν•‘λ μ»¨νΈλ΅¤λ¬ λ©”μ„λ“κ°€ μ΅΄μ¬ν•μ§€ μ•λ”λ‹¤λ©΄ static νμΌμ index.htmlμ„ λ°ν™ν•λ‹¤

- @ResponseBody
  - @GetMappingμ μ•„λμ—μ„ μ‘μ„±
  - ν•΄λ‹Ή λ©”μ†λ“μ λ¦¬ν„΄κ°’μ„ HTTP μ‘λ‹µμ λ³Έλ¬Έμ— μ§μ ‘ λ„£κ² λ‹¤λ” μλ―Έ
  - μ£Όλ΅ API κ°λ°μ„ μ„ν•΄ μ‚¬μ©λλ‹¤
  - λ·°(ν…ν”λ¦Ώ)μ„ λ°ν™ν•μ§€ μ•κ³  JSON, String λ“±μ„ λ°”λ΅ λ°ν™ν•λ‹¤

<br/>
<br/>

### π“‚ repository ν¨ν‚¤μ§€

#### π”Έ ν΄λμ¤
- @Repository
  - ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ¤ν”„λ§ MVCμ λ νμ§€ν† λ¦¬λ΅ λ“±λ΅ν•λ‹¤ -> SpringConfigλ¥Ό ν†µν•΄ μλ™μΌλ΅ @Bean λ“±λ΅μ„ ν•λ‹¤λ©΄ μƒλµν•  μ μλ‹¤

#### π”Έ λ©”μ†λ“
- @Autowired 
  - μ»¨νΈλ΅¤λ¬μ™€ λ§μ°¬κ°€μ§€λ΅ μƒμ„±μκ°€ ν•λ‚λΏμ΄λΌλ©΄ μƒλµ κ°€λ¥ν•λ‹¤

<br/>
<br/>

### π“‚ domain ν¨ν‚¤μ§€ (JPA)
JPA(DBλ¥Ό κ°μ²΄μ²λΌ λ§¤ν•‘)λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ ν•„μ”ν• μ–΄λ…Έν…μ΄μ…λ“¤

#### π”Έ ν΄λμ¤
- @Entity
  - ν΄λμ¤μ μ„μ— μ„ μ–Έ. ν•΄λ‹Ή ν΄λμ¤λ¥Ό JPAκ°€ ν…μ΄λΈ”λ΅ λ§¤ν•‘ν•  μ μλ„λ΅ ν•λ‹¤
  - ν•΄λ‹Ή ν΄λμ¤λ” νλΌλ―Έν„°κ°€ μ—†λ” κΈ°λ³Έ μƒμ„±μλ¥Ό λ°λ“μ‹ κ°€μ Έμ•Ό ν•λ‹¤

#### π”Έ ν•„λ“
- @Id 
  - ν΄λμ¤ λ‚΄λ¶€ λ³€μ(ν•„λ“)μ μ„μ— μ„ μ–Έ
  - ν•΄λ‹Ή ν•„λ“λ¥Ό Primary Keyλ΅ μ§€μ •ν•λ‹¤. JPAλ” μ΄ idλ¥Ό ν†µν•΄ κ°μ²΄λ¥Ό κµ¬λ¶„ν•λ‹¤.

- @GeneratedValue(strategy = GenerationType.IDENTITY)
  - @Id ν•„λ“μ™€ ν•¨κ» μ‚¬μ©ν•λ©° μλ™ μƒμ„± μ „λµμ„ μ§€μ •ν•λ‹¤
  - idμ κ°’μ„ λ„£μ§€ μ•μΌλ©΄ DBκ°€ idκ°’μ„ μλ™μΌλ΅ μƒμ„±ν•λ‹¤.

<br/>
<br/>

### π“‚ service ν¨ν‚¤μ§€

#### π”Έ ν΄λμ¤
- @Service 
  - ν•΄λ‹Ή ν΄λμ¤λ¥Ό λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ²λ¦¬ν•λ” μ„λΉ„μ¤ κ³„μΈµμΌλ΅ μ¤ν”„λ§μ— λ“±λ΅ν•λ‹¤
  - SpringConfigμ—μ„ μλ™μΌλ΅ λ“±λ΅ν•λ‹¤λ©΄ μƒλµμ΄ κ°€λ¥ν•λ‹¤

#### π”Έ λ©”μ†λ“/μƒμ„±μ
- @Autowired 
  - λ§μ°¬κ°€μ§€λ΅ μƒμ„±μκ°€ ν•λ‚λΌλ©΄ μƒλµ κ°€λ¥ν•λ‹¤

<br/>
<br/>

### π“‚ Application

#### π”Έ ν΄λμ¤
- @SpringBootApplication
  - ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ¤ν”„λ§ λ¶€νΈμ μ–΄ν”λ¦¬μΌ€μ΄μ…μΌλ΅ λ“±λ΅ν•λ‹¤
  - ν•΄λ‹Ή ν΄λμ¤λ” μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ…μ μ§„μ…μ μ΄ λλ‹¤(Main ν΄λμ¤)

<br/>
<br/>

### π“‚ SpringConfig

#### π”Έ ν΄λμ¤
- @Configuration
  - ν•΄λ‹Ή ν΄λμ¤κ°€ μ¤ν”„λ§ μ„¤μ • ν΄λμ¤μ„μ„ λ…μ‹ν•λ‹¤
  - λ‚΄λ¶€μ— μ •μλ @Bean λ©”μ†λ“λ“¤μ„ ν†µν•΄ μλ™μΌλ΅ λΉμ„ λ“±λ΅ν•  μ μλ‹¤.

#### π”Έ λ©”μ†λ“
- @Autowired
  - SpringConfig λ‚΄λ¶€μ—μ„ λ‹¤λ¥Έ λΉμ„ μ£Όμ…λ°›μ„ λ• μ‚¬μ©ν•λ‹¤
  - SpringConfigμ μƒμ„±μκ°€ ν•λ‚λΌλ©΄ μƒλµ κ°€λ¥ν•λ‹¤

- @Bean
  - ν•΄λ‹Ή λ©”μ†λ“μ λ°ν™κ°’μ„ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λΉμΌλ΅ λ“±λ΅ν•λ‹¤
  - λ©”μ†λ“λ…μ΄ λΉμ μ΄λ¦„μ΄ λλ‹¤

<br/>
<br/>

### π“‚ aop ν¨ν‚¤μ§€

#### π”Έ ν΄λμ¤
- @Aspect
  - ν•΄λ‹Ή ν΄λμ¤λ¥Ό AOP(κ³µν†µ κ΄€μ‹¬μ‚¬ λ΅μ§)μ ν•µμ‹¬μΈ μΈ΅λ©΄(Aspect)μΌλ΅ λ“±λ΅

#### π”Έ λ©”μ†λ“
- @Around("execution(κ²½λ΅)")
  - μ§€μ •λ pointcut(λ©”μ„λ“ μ‹¤ν–‰ μ§€μ )μ— μ μ©ν•  μ–΄λ“λ°”μ΄μ¤(Advice)λ¥Ό μ •μν•λ‹¤.
  - execution(κ²½λ΅)μ€ λ€μƒ λ©”μ†λ“μ ν¨ν‚¤μ§€, μ΄λ¦„, λ§¤κ°λ³€μ λ“±μ„ μ§€μ •ν•λ” ν¬μΈνΈμ»· ν‘ν„μ‹μ΄λ‹¤
  - μ»¨νΈλ΅¤λ¬, λ„λ©”μΈ, λ νμ§€ν† λ¦¬, μ„λΉ„μ¤ ν¨ν‚¤μ§€ λ‚΄μ λ©”μ†λ“λ“¤μ— ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“λ“¤μ΄ μ„ νƒμ μΌλ΅ μ μ©λλ‹¤

#### π”Έ μ¶”κ°€μ‚¬ν•­
- @Around λ‚΄μ ProceedingJoinPoint.proceed() λ©”μ†λ“λ” μ›λ νΈμ¶ν•λ ¤λ λ€μƒ λ©”μ†λ“λ¥Ό μλ―Έν•λ‹¤
- proceed() μ „/ν›„λ΅ λ΅μ§μ„ λ„£μ–΄ μ „μ²λ¦¬/ν›„μ²λ¦¬ κµ¬ν„ν•  μ μλ‹¤
- proceed()λ” μμ™Έλ¥Ό λμ§€κΈ° λ•λ¬Έμ— throws Throwableμ΄ λ°λ“μ‹ ν•„μ”

<br/>
<br/>
<br/>
<br/>

## π“ ν…μ¤νΈ μ½”λ“

#### π”Έ ν΄λμ¤
- @SpringBootTest
  - μ¤ν”„λ§ λ¶€νΈ μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄λ¥Ό μ‹¤ν–‰ν•΄μ„ ν†µν•© ν…μ¤νΈλ¥Ό μν–‰ν•λ„λ΅ ν•λ” μ–΄λ…Έν…μ΄μ…
  - μμ μλ°” μ½”λ“λ¥Ό ν…μ¤νΈ ν•λ” λ‹¨μ„ ν…μ¤νΈμ κ²½μ° ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ§€ μ•λ”λ‹¤

- @Transactional
  - μ„μ @SpringBootTestκ°€ λ¶™μ€ ν΄λμ¤μ—μ„ μ‚¬μ©
  - κ° ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ μ „μ— νΈλμ­μ…μ΄ μ‹μ‘λκ³ , ν…μ¤νΈ λ©”μ„λ“κ°€ λλ‚λ©΄ μλ™μΌλ΅ λ΅¤λ°± -> DBμ— ν…μ¤νΈ κΈ°λ΅μ„ λ‚¨κΈ°μ§€ μ•λ”λ‹¤


#### π”Έ λ©”μ†λ“
- @Test 
  - ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“λ” ν…μ¤νΈ μ½”λ“κ°€ λλ‹¤

- @Commit
  -  ν†µν•© ν…μ¤νΈ ν™κ²½ ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“λ” ν΄λμ¤μ— μ„ μ–Έλ @Transactionalμ„ λ¬΄μ‹ν•κ³  ν…μ¤νΈ κ²°κ³Όλ¥Ό DBμ— μ»¤λ°‹ν•μ—¬ κΈ°λ΅μ„ λ‚¨κΈ΄λ‹¤

- @BeforeEach 
  - ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“λ” κ° ν…μ¤νΈ λ©”μ†λ“κ°€ μ‹μ‘ν•  λ•λ§λ‹¤ μλ™μΌλ΅ μ‹¤ν–‰λλ‹¤

- @AfterEach 
  - ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ†λ“λ” κ° ν…μ¤νΈ λ©”μ†λ“κ°€ λλ‚  λ•λ§λ‹¤ μλ™μΌλ΅ μ‹¤ν–‰λλ‹¤
